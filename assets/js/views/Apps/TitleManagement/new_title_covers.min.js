
function Covers(c,b){var a=this;a.Model={Covers:[]};a.log="";a.files={};a.upload=function(f,e){if(f){var d=e;a.files[d]={};a.files[d]["status"]=null;b.Upload.upload({url:"http://api.bookmasters.com/Files/Cover",data:{username:"poop",isbn13:e,CoverFile:f}}).then(function(g){a.files[d]["name"]=g.config.data.CoverFile.name;a.files[d]["type"]=g.config.data.CoverFile.type;a.files[d]["size"]=g.config.data.CoverFile.size;a.files[d]["status"]=true;a.files[e]["progress"]={percentage:"100%",width:100,color:"progress-bar-success"}},function(g){a.files[d]["status"]=false;a.files[e]["progress"]={percentage:"Error",width:100,color:"progress-bar-danger"}},function(g){var h=parseInt(100*g.loaded/g.total);a.files[e]["progress"]={percentage:h+"%",width:h,color:"progress-bar-info"}})}};a.formatBytes=function(e,d){if(e==0){return"0 Byte"}var g=1000;var f=d+1||3;var j=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];var h=Math.floor(Math.log(e)/Math.log(g));return(e/Math.pow(g,h)).toPrecision(f)+" "+j[h]}};