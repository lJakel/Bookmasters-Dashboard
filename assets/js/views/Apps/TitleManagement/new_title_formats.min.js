
var Formats=function(c,b){var a=this;a.Model={Formats:c||[]};a.FormatModal=new Modals.FormatBSModal("",b.$scope);a.showDialog=false;a.showFormatModal=function(d,e){b.$scope.$broadcast("show-errors-reset");a.FormatModal.Method=e||"edit";a.FormatModal.entryData=d;$.each(d,function(g,f){a.FormatModal[g]=d[g]||null});b.$timeout(function(){a.FormatModal.GetDynamicProductForms()}).then(function(){a.FormatModal.ProductForm=d.ProductForm});b.$timeout(function(){a.FormatModal.GetDynamicProductDetails()}).then(function(){a.FormatModal.ProductDetail=d.ProductDetail});b.$timeout(function(){a.FormatModal.GetDynamicProductFormDetailSpecifics()}).then(function(){a.FormatModal.ProductBinding=d.ProductBinding});a.showDialog=true};a.onFormatModalAction=function(){$.each(a.FormatModal.entryData,function(e,d){a.FormatModal.entryData[e]=a.FormatModal[e]});if(a.FormatModal.Method==="add"){a.Model.Formats.push(a.FormatModal.entryData)}a.showDialog=false};a.addFormat=function(){a.showFormatModal(new Components.Format(""),"add")};a.removeFormat=function(d){a.Model.Formats.splice(d,1)}};